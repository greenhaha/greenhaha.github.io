<!DOCTYPE html>
<html lang="zh">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="">
  <title>加密媒体扩展 | 彼方のE栈</title>
  <meta name="author" content="境界の彼方" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="流媒体, 直播, 计算机基础" />
  
  <meta name="description" content="CDN 及 PCDN CDNCDN(Content Delivery Network 或 Content Ddistribute Network):内容分发网络也称为内容传送网络。是指一种透过互联网互相连接的电脑网络系统，利用最靠近每位用户的服务器，更快、更可靠地将音乐、图片、影片、应用程序及其他文件发送给用户，来提供高性能、可扩展性及低成本的网络内容传递给用户。这个概念始于 1996 年，是美国">
<meta property="og:type" content="article">
<meta property="og:title" content="加密媒体扩展">
<meta property="og:url" content="http://example.com/2024/01/20/CDN%E5%8F%8APCDN/index.html">
<meta property="og:site_name" content="彼方のE栈">
<meta property="og:description" content="CDN 及 PCDN CDNCDN(Content Delivery Network 或 Content Ddistribute Network):内容分发网络也称为内容传送网络。是指一种透过互联网互相连接的电脑网络系统，利用最靠近每位用户的服务器，更快、更可靠地将音乐、图片、影片、应用程序及其他文件发送给用户，来提供高性能、可扩展性及低成本的网络内容传递给用户。这个概念始于 1996 年，是美国">
<meta property="og:locale">
<meta property="og:image" content="http://example.com/2024/01/20/CDN%E5%8F%8APCDN/https:/greenhaha.oss-cn-beijing.aliyuncs.com/frontend/assets/img/pcdn_peer.png">
<meta property="article:published_time" content="2024-01-20T05:30:51.000Z">
<meta property="article:modified_time" content="2024-01-22T00:57:38.803Z">
<meta property="article:author" content="境界の彼方">
<meta property="article:tag" content="计算机基础">
<meta property="article:tag" content="流媒体">
<meta property="article:tag" content="直播">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2024/01/20/CDN%E5%8F%8APCDN/https:/greenhaha.oss-cn-beijing.aliyuncs.com/frontend/assets/img/pcdn_peer.png">
<meta name="twitter:site" content="@null">
  
  <!-- 站点验证相关 -->
  
    
      <meta name="google-site-verification" content="fVGTHvD3aoZ4YyO3S4WbusH7mbbYHqxjGcH_2_yjfp4" />
    
    
      <meta name="baidu-site-verification" content="code-0fihzGJtdx" />
    
    
      <meta name="msvalidate.01" content="0BD48478F2FB17419C4A9364056B5B44" />
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" type="text/css" media="all">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  
<link rel="alternate" href="/atom.xml" title="彼方のE栈" type="application/atom+xml">
</head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                                    
                                        <li><a target="_blank" rel="noopener" href="https://hlymcn.com/serve-csgo/index.html"><i class="fa fa-server"></i>csgo服务器</a></li>
                                    
                                
                                    
                                        <li><a target="_blank" rel="noopener" href="https://hlymcn.com/svgedit/index.html"><i class="fa fa-reddit-alien"></i>svg工作台</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fa fa-paw"></i>好伙伴</a></li>
                                    
                                
                                    
                                        <li><a href="/about/"><i class="fa fa-send"></i>关于我</a></li>
                                    
                                
                                    
                                        <li><a href="/atom.xml"><i class="fa fa-rss"></i>RSS订阅</a></li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">彼方のE栈</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>彼方のE栈</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article>
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center">加密媒体扩展</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><i class="fa fa-calendar"></i> 2024-01-20</li>
                <li><i class="fa fa-user"></i> 作者 境界の彼方</li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~9.95K
                    
                    字
                </li>
                
                    <li id="/2024/01/20/CDN%E5%8F%8APCDN/" class="leancloud_visitors" data-flag-title="加密媒体扩展">
                        <i class="fa fa-eye"></i>
                        <span class="leancloud-visitors-count"> </span> 次阅读
                    </li>
                    
                        <li>
                            <i class="fa fa-commenting-o"></i>
                            <span data-xid="/2024/01/20/CDN%E5%8F%8APCDN/" class="waline-comment-count"> </span> 条评论
                        </li>
                    
                
            </ul>
        </header>
        <div class="kratos-post-content">
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                本文最后编辑于 <time datetime="1705885058803"></time> 前，其中的内容可能需要更新。
            </div>
            
                <div class="kratos-post-inner-toc">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#CDN-%E5%8F%8A-PCDN"><span class="toc-number">1.</span> <span class="toc-text">CDN 及 PCDN</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CDN"><span class="toc-number">1.1.</span> <span class="toc-text">CDN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">1.1.1.</span> <span class="toc-text">组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.1.3.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">1.1.4.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E6%8E%A5%E5%85%A5-CDN"><span class="toc-number">1.1.5.</span> <span class="toc-text">网站接入 CDN</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PCDN"><span class="toc-number">1.2.</span> <span class="toc-text">PCDN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN-%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.1.</span> <span class="toc-text">CDN 存在的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PCDN-%E8%8A%82%E7%82%B9%E5%8F%8A%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.2.</span> <span class="toc-text">PCDN 节点及架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#P2P-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">P2P 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#P2P-%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8F%91%E5%B1%95%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B"><span class="toc-number">1.2.4.</span> <span class="toc-text">P2P 技术的发展演变过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PCDN-%E4%BF%9D%E8%AF%81%E9%AB%98%E8%B4%A8%E9%87%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.5.</span> <span class="toc-text">PCDN 保证高质量的基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81PCDN-%E4%BF%9D%E8%AF%81%E4%BD%8E%E4%BB%B7%E6%A0%BC%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.6.</span> <span class="toc-text">四、PCDN 保证低价格的基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN-%E5%92%8C-P2P-%E6%8A%80%E6%9C%AF%E4%BC%98%E5%8A%A3%E5%8A%BF%E5%88%86%E6%9E%90"><span class="toc-number">1.2.7.</span> <span class="toc-text">CDN 和 P2P 技术优劣势分析</span></a></li></ol></li></ol></li></ol>
                </div>
            
            <hr />
            <h1 id="CDN-及-PCDN"><a href="#CDN-及-PCDN" class="headerlink" title="CDN 及 PCDN"></a>CDN 及 PCDN</h1><p><img src="https://github.com/CharonChui/Pictures/blob/master/cdn.png?raw=true" alt="image"></p>
<h2 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h2><p>CDN(Content Delivery Network 或 Content Ddistribute Network):内容分发网络也称为内容传送网络。<br>是指一种透过互联网互相连接的电脑网络系统，利用最靠近每位用户的服务器，更快、更可靠地将音乐、图片、影片、<br>应用程序及其他文件发送给用户，来提供高性能、可扩展性及低成本的网络内容传递给用户。<br>这个概念始于 1996 年，是美国麻省理工学院的一个研究小组为改善互联网的服务质量而提出的。<br>为了能在传统 IP 网上发布丰富的宽带媒体内容，他们提出在现有互联网基础上建立一个内容分发平台专门为网站提供<br>服务，并于 1999 年成立了专门的 CDN 服务公司，为 Yahoo 提供专业服务。由于 CDN 是为加快网络访问速度而被优化的<br>网络覆盖层，因此被形象地称为“网络加速器”。</p>
<ul>
<li>举个栗子:</li>
</ul>
<p>大学的时候宿舍里面有一个同学 A 翻墙去东京看一个比较热的电影，日本人访问那个网站的时候，速度就会很快。<br>但是我在中国，当我去访问网站的时候速度就会很慢。这是由于地域的限制，中间隔了很多很多的网络，<br>导致我访问很慢。所有同学 A 想要把这个电影下载下来再看。结果宿舍内的其他同学 BCD 发现这个电影挺好看，<br>他也想看这个电影，如果同学 BCD 直接去该网站上下载这个电影，那速度肯定是奇慢无比。<br>但是如果同学 A 先把这个电影缓存下来，然后同学 BCD 可以直接通过内网来从同学 A 缓存的电影进行下载，<br>这样既不占用访问外网的带宽，也对目标网站的服务器压力小了很多，同时也大大的提高了速度。</p>
<p>这种把一个视频从比较远的服务器中，缓存下来，放到离用户比较近的地方，让他们可以就近获取，<br>更快速，这就是 CDN,那个缓存视频的同学 A 就是一个 CDN 节点。</p>
<p>还有一个现实中的例子，我感觉是对 CDN 原理的最佳应用:<br>打个比方我想买一个手表，我先去淘宝上找了一个第三方的卖家，看了下价格，问了一下从哪发货啊，<br>是什么快递啊，他告诉我从深圳发货。到你那三天，因为他这个发货地点一般就是一个。<br>而我在京东上面的话，京东在全国各地都有仓库，他会根据你的位置,在全国范围内找离你最近、<br>送达最快的仓库，京东的这种仓储系统，就是类似 CDN 的作用。</p>
<h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><p>CDN 网络中包含的功能实体包括以下部分:</p>
<ul>
<li>内容缓存:CDN 网络节点，位于用户接入点，是面向最终用户的内容提供设备，可缓存静态 Web 内容和流媒<br>体内容，实现内容的边缘传播和存储，以便用户的就近访问。它借助于建立索引、缓存、流分裂、组播（Multicast）等技术，将内容发布或投递到距离用户最近的远程服务点（POP）处。<br>内容分发包含从内容源到 CDN 边缘的 Cache 的过程。从实现上，有两种主流的内容分发技术：PUSH 和 PULL。<br>PUSH 是一种主动分发的技术。通常，PUSH 由内容管理系统发起，将内容从源或者中心媒体资源库分发到各边缘的 Cache 节点。分发的协议可以采用 Http/ftp 等。通过 PUSH 分发的内容一般是比较热点的内容，<br>这些内容通过 PUSH 方式预分发到边缘 Cache，可以实现有针对的内容提供。<br>对于 PUSH 分发需要考虑的主要问题是分发策略，即在什么时候分发什么内容。一般来说，<br>内容分发可以由 CP（内容提供商）或者 CDN 内容管理员人工确定，也可以通过智能的方式决定，<br>即所谓的智能分发，它根据用户访问的统计信息，以及预定义的内容分发的规则，确定内容分发的过程。PULL 是一种被动的分发技术，PULL 分发通常由用户请求驱动。当用户请求的内容在本地的边缘 Cache 上不存在（未命中）时，Cache 启动 PULL 方法从内容源或者其他 CDN 节点实时获取内容。在 PULL 方式下，内容的分发是按需的。</li>
<li>内容交换机:处于用户接入集中点，可以均衡单点多个内容缓存设备的负载，并对内容进行缓存负载平衡及访问控制。</li>
<li>内容路由器:负责将用户的请求调度到适当的设备上。它是整体性的网络负载均衡技术，通过内容路由器中的重定向（DNS）机制，在多个远程 POP 上均衡用户的请求，<br>以使用户请求得到最近内容源的响应。CDN 负载均衡系统实现 CDN 的内容路由功能。它的作用是将用户的请求导向<br>整个 CDN 网络中的最佳节点。最佳节点的选定可以根据多种策略，例如距离最近、节点负载最轻等。<br>负载均衡系统是整个 CDN 的核心，负载均衡的准确性和效率直接决定了整个 CDN 的效率和性能。<br>通常负载均衡可以分为两个层次:全局负载均衡（GSLB）和本地负载均衡（SLB）。全局负载均衡主要的目的是在整<br>个网络范围内将用户的请求定向到最近的节点（或者区域）。因此，就近性判断是全局负载均衡的主要功能。<br>本地负载均衡一般局限于一定的区域范围内，其目标是在特定的区域范围内寻找一台最适合的节点提供服务，<br>因此，CDN 节点的健康性、负载情况、支持的媒体格式等运行状态是本地负载均衡进行决策的主要依据。</li>
<li>内容管理系统:负责整个 CDN 的管理，它通过内部和外部监控系统，获取网络部件的状况信息，测量内容发布的<br>端到端性能（如包丢失、延时、平均带宽、启动时间、帧速率等），保证网络处于最佳的运行状态。内容管理在<br>广义上涵盖了从内容的发布、注入、分发、调整、传递等一系列过程。在这里，内容管理重点强调内容进人 Cache<br>点后的内容管理，称其为本地内容管理。本地内容管理主要针对一个 CDN 节点（有多个 CDN Cache 设备和一个<br>SLB 设备构成）进行。本地内容管理的主要目标是提高内容服务的效率，提高本地节点的存储利用率。<br>通过本地内容管理，可以在 CDN 节点实现基于内容感知的调度，通过内容感知的调度，可以避免将用户重定向到没有<br>该内容的 Cache 设备上，从而提高负载均衡的效率。通过本地内容管理还可以有效实现在 CDN 节点内容的存储共享，<br>提高存储空间的利用率。</li>
</ul>
<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><p>使用 CDN 的第一个也是最重要的原因：加速网站的访问。</p>
<p>对于 TCP 传输而言，TCP 的速度会受到延迟时间与数据包漏失率影响。为了改善这些负面因素，<br>内容分发网络通常会指派较近、较顺畅的服务器节点将数据传输给用户。虽然距离并不是绝对因素，<br>但这么做可以尽可能提高性能，用户将会觉得比较顺畅。这使得一些比较高带宽的应用（传输高清影片）更容易推动。</p>
<p>归纳起来，CDN 具有以下主要功能:</p>
<ol>
<li>实现跨运营商、跨地域的全网覆盖<br>互联不互通、区域 ISP 地域局限、出口带宽受限制等种种因素都造成了网站的区域性无法访问。<br>CDN 加速可以覆盖全球的线路，通过和运营商合作，部署 IDC 资源，在全国骨干节点上，合理部署 CDN 边缘<br>分发存储节点，充分利用带宽资源，平衡源站流量，这样可以节省骨干网带宽，减少带宽需求量并能<br>解决由于用户访问量大造成的服务器过载问题。</li>
<li>保障网站安全<br>CDN 的负载均衡和分布式存储技术，可以加强网站的可靠性，相当无无形中给你的网站添加了一把保护伞，<br>应对绝大部分的互联网攻击事件。防攻击系统也能避免网站遭到恶意攻击。</li>
<li>为了异地备援<br>当某个服务器发生意外故障时，系统将会调用其他临近的健康服务器节点进行服务，进而提供接近 100%的可靠性，<br>这就让你的网站可以做到永不宕机。</li>
<li>为了节约成本投入<br>使用 CDN 加速可以实现网站的全国铺设，你根本不用考虑购买服务器与后续的托管运维，服务器之间镜像同步，<br>也不用为了管理维护技术人员而烦恼，节省了人力、精力和财力。</li>
</ol>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul>
<li>本地 Cache 加速：提高了企业站点（尤其含有大量图片和静态页面站点）的访问速度，<br>并大大提高以上性质站点的稳定性。</li>
<li>镜像服务：消除了不同运营商之间互联的瓶颈造成的影响，实现了跨运营商的网络加速，保证不同网络中的用户<br>都能得到良好的访问质量。</li>
<li>远程加速：远程访问用户根据 DNS 负载均衡技术智能自动选择 Cache 服务器，选择最快的 Cache 服务器，<br>加快远程访问的速度。</li>
<li>带宽优化：自动生成服务器的远程 Mirror（镜像）cache 服务器，远程用户访问时从 cache 服务器上读取数据，<br>减少远程访问的带宽、分担网络流量、减轻原站点 WEB 服务器负载等功能。</li>
<li>集群抗攻击：广泛分布的 CDN 节点加上节点之间的智能冗余机制，可以有效地预防黑客入侵以及降低各<br>种 D.D.o.S 攻击对网站的影响，同时保证较好的服务质量。</li>
</ul>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>CDN 的工作原理就是将您源站的资源缓存到位于全国各地的 CDN 节点上，用户请求资源时，就近返回节点上缓存的资源，而不需要每个用户的请求都回您的源站获取，避免网络拥塞、分担源站压力，保证用户访问资源的速度和体验。</p>
<p>下面分别是不用 CDN 以及使用 CDN 时的访问流程:<br><img src="https://github.com/CharonChui/Pictures/blob/master/dns_no_cdn.png?raw=true" alt="image"></p>
<p><img src="https://github.com/CharonChui/Pictures/blob/master/dns_cdn.png?raw=true" alt="image"></p>
<p>上面图中在使用 CDN 时，server-isp-DNS 服务器不是直接把域名做 A 记录映射到源站，而是 CNAME 记录到调度中心，调度中心根据用户请求的来源，选择一个最近的 CDN 节点，主要的流程如下:</p>
<ol>
<li>当用户点击网站页面上的内容 URL，经过本地 DNS 系统解析，DNS 系统会最终将域名的解析权交给 CNAME 指向的 CDN 专用 DNS 服务器。</li>
<li>CDN 的 DNS 服务器将 CDN 的全局负载均衡设备 IP 地址返回用户。</li>
<li>用户向 CDN 的全局负载均衡设备发起内容 URL 访问请求。</li>
<li>CDN 全局负载均衡设备根据用户 IP 地址，以及用户请求的内容 URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。</li>
<li>区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户 IP 地址，<br>判断哪一台服务器距用户最近；根据用户所请求的 URL 中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，<br>区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的 IP 地址。</li>
<li>全局负载均衡设备把服务器的 IP 地址返回给用户。</li>
<li>用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。</li>
</ol>
<h3 id="网站接入-CDN"><a href="#网站接入-CDN" class="headerlink" title="网站接入 CDN"></a>网站接入 CDN</h3><p>使用 CDN 的方法很简单，只需要修改自己的 DNS 解析，设置一个 CNAME 指向 CDN 服务商即可。</p>
<p>用户访问未使用 CDN 缓存资源的过程为:</p>
<ul>
<li>浏览器通过前面提到的过程对域名进行解析，以得到此域名对应的 IP 地址；</li>
<li>浏览器使用所得到的 IP 地址，向域名的服务主机发出数据访问请求；</li>
<li>服务器向浏览器返回响应数据</li>
</ul>
<p>使用 CDN 后:</p>
<ul>
<li><p>当用户点击网站页面上的内容 URL，经过本地 DNS 系统解析，DNS 系统会最终将域名的解析权交给 CNAME 指向的 CDN 专用 DNS 服务器。</p>
</li>
<li><p>CDN 的 DNS 服务器将 CDN 的全局负载均衡设备 IP 地址返回用户。</p>
</li>
<li><p>用户向 CDN 的全局负载均衡设备发起内容 URL 访问请求。</p>
</li>
<li><p>CDN 全局负载均衡设备根据用户 IP 地址，以及用户请求的内容 URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。</p>
</li>
<li><p>区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户 IP 地址，判断哪一台服务器距用户最近；根据用户所请求的 URL 中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的 IP 地址。</p>
</li>
<li><p>全局负载均衡设备把服务器的 IP 地址返回给用户</p>
</li>
<li><p>用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。</p>
</li>
</ul>
<p>上面的字太多，有点绕？通俗点就是用户访问的资源原本是存放在你自己的服务器，通过修改 DNS 让用户根据 IP 等情况来选择合适的 CDN 缓存服务器来获取资源。</p>
<h2 id="PCDN"><a href="#PCDN" class="headerlink" title="PCDN"></a>PCDN</h2><p>PCDN:(P2P 技术和 CDN 的融合创新)，下面是<a target="_blank" rel="noopener" href="https://help.aliyun.com/product/54287.html">阿里云 PCDN</a><br>的介绍:P2P 内容分发网络（英文名：P2P CDN，简称 PCDN）是以 P2P 技术为基础，通过挖掘利用电信边缘网络<br>海量碎片化闲置资源而构建的低成本高品质内容分发网络服务。客户通过集成 PCDN SDK 接入该服务后能获得等<br>同（或略高于）CDN 的分发质量，同时显著降低分发成本。适用于视频点播、直播、大文件下载等业务场景。</p>
<p>我们知道，在移动终端上，通常上传流量会带来很多负面影响，比如消耗用户流量、更加耗电、频繁读写 T 卡/ROM 影响硬件设备寿命等。阿里云 PCDN 利用海量的 P2P 节点资源，使终端能做到只下载而不用上传，大大扩展了 P2P CDN 的使用范围，这个优势已明显领先于那些完全依靠客户端上传流量而获得 P2P 效率的 P2P 产品。</p>
<p>P2P 节点布局中有路由器、运营商接入层/汇聚层节点等二级节点可以为客户 APP 提供 P2P 带宽，不强制要求客户 APP 上传流量，所以移动端不需要上传流量也可以使用 PCDN。</p>
<p>另外，PCDN 针对各类业务场景做了进一步优化，使之对各场景的支持更加完善，给客户提供了更多差异化价值。在下载业务方面，支持下载速率控制（限速）。在带宽峰期对下载速度进行限制，可以有效控制带宽峰值。对于一些不追求下载速度的后台下载场景，同样可以对下载速度进行控制，使后台下载不至于影响前台的游戏、视频等网络体验。在安全方面，支持 https，防止内容被篡改。并且集成了 httpdns，保证了调度精准性，同时有效避免了域名劫持的发生。在防盗链的处理上，PCDN 除了继承 CDN 的 referer、鉴权策略、IP 黑名单等防盗链机制，还从云+端的角度，使 SDK 跟本地业务结合，实现鉴权逻辑、DRM 等，弥补了单纯靠云端鉴权的不足，使防盗链机制更加完善。</p>
<h3 id="CDN-存在的问题"><a href="#CDN-存在的问题" class="headerlink" title="CDN 存在的问题"></a>CDN 存在的问题</h3><p>传统的 CDN 技术虽然可以在一定程度上加速流媒体，实现下载、直播和点播。但是其核心仍然是基于<br>集中服务器的结构，跟地域化管制紧密相连，很难降低其扩展的成本。另外，传统 CDN 技术在高峰时期<br>对突发流量的适应性，容错性等方面仍然存在一定缺陷。随着用户规模的迅速增加，对 CDN 应用发展提出了较大挑战。因部署或租用机房带来的多方面高昂成本和管理压力，学界和业界也研究了将 P2P 技术融入 CDN 部署和管理的技术，以降低运营成本和通信时延。迅雷、优酷、百度、阿里巴巴等公司就在 2010 年代多次试水用户端运行的 P2P 众包类 CDN 服务、专用设备，模式为用户自愿以 PC 或专用设备利用闲置上行带宽充当 CDN 缓存节点，<br>提供服务并赚取积分，而积分可兑换现金红包、特定商品或服务。</p>
<p>P2P 技术则是打破了传统的 Client/Server 模式，是一种基于对等节点非中心化服务的平台方案。<br>P2P 技术发展迅猛，迅速改变了整个互联网传统秩序。“去中性化”符合 WEB2.0 技术潮流。特别在流媒体领域，<br>由于采用 Peer 之间对等计算的模式，大大提高了资源共享的利用率，能在较低的成本下，充分利用空闲时间分<br>发数据，避免拥塞，提供具备高实时性，和容错性能的流服务。为流媒体服务开辟了一条崭新的道路。</p>
<h3 id="PCDN-节点及架构"><a href="#PCDN-节点及架构" class="headerlink" title="PCDN 节点及架构"></a>PCDN 节点及架构</h3><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/pcdn_jiedian.png"></p>
<p><strong>PCDN 的基础架构</strong></p>
<p>关键组件</p>
<ul>
<li><p>index 服务：全局调度，把用户请求调度到最佳的机房</p>
</li>
<li><p>ZooKeeper (Global&amp;Local)：服务活动情况汇报给调度服务，动态配置更新</p>
</li>
<li><p>Nignx Proxy：支持私有协议的 Nginx 代理服务，针对不同文件一致性 Hash 到不同的 Channel 服务</p>
</li>
<li><p>Channel 服务：记录文件和拥有文件的端点地址信息，为下载提供就近的端点地址</p>
</li>
<li><p>Realy 服务：服务 P2P 建立连接和通讯</p>
</li>
<li><p>Hot 服务：hot 文件发现和推送</p>
</li>
</ul>
<p>PCDN 架构图：</p>
<p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/pcdn_jiagou.png"></p>
<h3 id="P2P-简介"><a href="#P2P-简介" class="headerlink" title="P2P 简介"></a>P2P 简介</h3><p>P2P(Peer to Peer):点对点通信或称为对等联网。每个用户既下载数据，又作为服务器存储数据<br>并供其他用户下载。他的本质，是一种硬盘的共享，是把每个人电脑上的一部分硬盘，拿出来与其他人共享。</p>
<p>然而目前单纯的 P2P 应用亦存在它的问题，P2P 业务的盛行会带来网络流量风暴；新闻监管缺失，<br>内容版权管理真空，盗版盛行；可能导致恶性病毒；给电信运营商以及产业链造成损害。此外，层出不穷的 p2P<br>产品采用的拓扑结构、算法模型不尽相同，缺乏标准体系，应用模式也不清晰。这些问题都阻碍了 P2P 技术<br>进一步发展成为运营商级别的可靠技术平台。</p>
<h3 id="P2P-技术的发展演变过程"><a href="#P2P-技术的发展演变过程" class="headerlink" title="P2P 技术的发展演变过程"></a>P2P 技术的发展演变过程</h3><p>早期的 P2P 技术，称为 1.0 版本，这个版本主要是依靠 P2P 尽力而为的提供服务，没有服务质量保障。像 2000 年前后出现的迅雷、BT、电驴等 2C 的应用。这类应用是互联网上内容传播分享的工具，并没有严谨的服务质量保证，而且从技术层面来说，这样的应用都是基于终端流量的上传，需要同时读写电脑本地的磁盘。</p>
<p>经过几年的发展，到 2005 年左右，发展到 P2P 的 2.0 版本，这个版本的主要特征是 P2P+CDN，有了一定的服务质量保障。像风行、PPlive、PPS、优酷等视频网站，把 P2P 和 CDN 相结合，做了自建的技术方案。但是从技术实现上来讲，还是基于终端的流量互传，主要是 PC 客户端和 Flash 这两种形态。</p>
<p>到 2014 年以后，P2P 技术发展到了 3.0 版本，这个版本的特征就是 CDN+P2P 技术+P2P 节点资源，能提供全面的服务质量保障，性能不低于 CDN。这个时期有优酷路由宝和迅雷赚钱宝等智能硬件产品面世，吸纳用户家庭和商业场所中闲散的带宽资源，打包成 P2P 的分发服务。P2P 节点自此发展成了共享经济的模型。技术上，使用了智能硬件产品，客户端 APP 不再需要终端上传和读写磁盘。在业务场景上也支持的比较全面，长视频/短视频点播、大型赛事直播、秀场直播、大文件下载等都能完美支持。质量好，价格低，并且业务场景支持全面，这些因素促成了 P2P CDN 产品的不断发展，这个阶段积累了较大规模的商业化案例。</p>
<h3 id="PCDN-保证高质量的基本原理"><a href="#PCDN-保证高质量的基本原理" class="headerlink" title="PCDN 保证高质量的基本原理"></a>PCDN 保证高质量的基本原理</h3><p>CDN 对外服务是单节点、单链路的方式，这要求 CDN 节点有很高的稳定性。一旦 CDN 节点出现故障或者链路出现抖动、拥塞等，将势必影响服务质量。而 PCDN 对外服务是多点对单点、多链路的方式，这种特性使 PCDN 能够有效避免节点故障、链路网络问题带来的影响，使整个传输更加稳定。</p>
<p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/pcdn_vs_cdn.png"></p>
<p>PCDN 对外服务时，CDN 将被当做超级种子，同时也有很多 P2P 节点提供服务。虽然单个 P2P 节点的能力弱于 CDN，但依赖数量众多的 P2P 节点和优良的调度算法，可以很好的保证整网的可靠性。CDN 在节点水位问题、稳定性、网络波动等问题将要发生之前，P2P 调度会尽可能从 P2P 节点把用户所要的内容返回给 SDK，来抑制缓冲和卡顿的情况。所以 PCDN 相对于 CDN，服务质量有所优化。</p>
<p>有数据显示，以视频点播业务为例，PCDN 的首播时间等同于 CDN，流畅性同比 CDN 平均提升 1~3%。在下载业务方面，PCDN 的下载速度、下载完成率等指标全面领先 CDN。</p>
<h3 id="四、PCDN-保证低价格的基本原理"><a href="#四、PCDN-保证低价格的基本原理" class="headerlink" title="四、PCDN 保证低价格的基本原理"></a>四、PCDN 保证低价格的基本原理</h3><p>PCDN 的带宽分为一、二、三级节点带宽，一级节点带宽为 CDN 带宽；二级节点带宽为分布全国各地 P2P 节点提供的带宽，包含接入层节点、路由器等提供的运营商/家庭出口带宽；三级带宽为客户端之间互相分享的带宽。如下图所示，各级节点能力不同，从一级 CDN 节点到三级客户端节点，根据其自身能力，按网络质量、存储容量、稳定性、计算能力、节点数量、可控性六个基本维度进行划分。其中，CDN 各方面能力是最强的，但是节点数量是最少的，成本是最高的。逐一往右推移，网络质量和存储能力、计算能力在不同程度的下降，但是节点数量在提升，成本在降低。</p>
<p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/pcdn_peer.png"></p>
<p>所以，PCDN 在对外提供服务时，调度系统根据质量优先、兼顾成本的原则，对各级节点进行合理配比。以视频点播的业务为例，当播放器开始播放的时候，无论从用户还是从业务角度，都希望尽快拿到数据，不愿意缓冲和等待，这个时候 PCDN 默认 CDN 的响应是比较及时，调度系统首先从 CDN 上拿数据，即首帧时间与 CDN 等效。在正常播放过程中，播放器预缓冲时，播放器对数据的请求不是很着急，这时优先使用低成本的 P2P，如果 P2P 没有命中或者调度系统评估要很慢才能回传，再回源 CDN。通过这样的方法，能有效减少高成本的 CDN 用量。</p>
<p>通过这种方式，根据业务场景和使用量，PCDN 的价格一般比 CDN 降低 30%~50%。目前支持按日峰值带宽、月 95 峰值带宽和日流量三种计费方式。从客户的时间使用情况看，对于一个峰值带宽 30G 左右的业务，使用 PCDN 一年相比 CDN 可以节省至少 100 万。对于带宽峰值超过 100G 的业务，成本节省效果将更加可观。</p>
<p>PCDN 目前已支持视频点播、视频直播、大文件下载各类典型的业务场景，包括但不限于长视频点播、短视频点播、互动娱乐直播、晚会赛事直播、应用市场分发等各类产品，全面支持 Android、iOS、OTT、Flash、PC-Client 等各种主流平台和主流协议。通过在娱乐、教育、体育、广电等多个行业积累的众多成熟服务客户案例，PCDN 对各业务场景的理解与服务也不断升级优化，目前已能支持更多的下载场景、提供更好的防劫持防盗链方案和更好的视频播放体验，让质量和价格不再是矛盾体，达到高质量低成本这一超高性价比的效果，鱼和熊掌兼得。PCDN，期待为您提供更好的服务。</p>
<h3 id="CDN-和-P2P-技术优劣势分析"><a href="#CDN-和-P2P-技术优劣势分析" class="headerlink" title="CDN 和 P2P 技术优劣势分析"></a>CDN 和 P2P 技术优劣势分析</h3><table>
<thead>
<tr>
<th></th>
<th>CDN</th>
<th>P2P</th>
</tr>
</thead>
<tbody><tr>
<td>可扩展性</td>
<td>扩展成本较高</td>
<td>低成本扩展</td>
</tr>
<tr>
<td>内容版权</td>
<td>可监管</td>
<td>不可监管</td>
</tr>
<tr>
<td>用户管理有效性</td>
<td>可实现用户的有效管理</td>
<td>无法进行有效的用户管理</td>
</tr>
<tr>
<td>QoS 服务</td>
<td>可保障服务</td>
<td>无法保障</td>
</tr>
<tr>
<td>流量有序性</td>
<td>流量区域控制</td>
<td>无序无序</td>
</tr>
</tbody></table>
<p>也就是说，P2P 和 CDN 技术在几个关键点上，完全实现互补，如果能将两种技术有效的结合起来，<br>必然是一种更加完美的组合。于是，一种全新的思路是在 CDN 网络中，引入 P2P 技术。通过这种模式，<br>可以在不增加成本的同时有效提升 CDN 服务能力，更有效避免了 P2P 应用的诸多弊端，是在当前运营商<br>网络状况下最理想的媒体业务承载平台方案。</p>
<p>PCDN 的主要优势:</p>
<ul>
<li>流服务能力的提高<br>P2P 传输的内容与原 CDN 的内容有所不同，在核心节点根据 P2P 协议对内容（包括文件和流）做切片处理，<br>P2P 用户将根据这些规则来完成 P2P 共享。P2P 在边缘层的引入大大降低了边缘服务器的压力，<br>提高了文件传输和流媒体传输的效率。P2P 技术充分利用了用户的闲置上行带宽，这样运营商可以通过更少<br>的边缘服务器，提供更多的业务量为更多的用户服务，以较低成本代价应对迅猛增长的客户规模带来的挑战。</li>
<li>可管理的 P2P ＋ CDN 网络<br>为了避免骨干网上的流量对冲，通过集中的分布式架构，将 P2P 的流量严格限制在同一边缘节点的区域内。<br>这样就继承了 P2P 和 CDN 的优点，同时摒弃双方的缺点，避免电信骨干网上的流量无序性和风暴，<br>增强了网络的可管理性和服务高的可靠性。通过客户端，可以实现对用户的监控，流量的监管。</li>
<li>客户体验的改善<br>一方面，P2P+CDN 结合的方式，使得有限的服务能力可以为更多的用户提供流媒体服务。超级种子的存在保证了<br>服务质量。另一方面，P2P 技术的应用也能够更有效地防止因网络的抖动而产生对服务质量的影响。</li>
</ul>
<p>​</p>
<p><a target="_blank" rel="noopener" href="https://dzone.com/articles/content-delivery-acceleration-and-cost-reduction-w">Content Delivery Acceleration and Cost Reduction with P2P CDN (PCDN)</a></p>

        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://example.com/2024/01/20/CDN%E5%8F%8APCDN/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://example.com/2024/01/20/CDN%E5%8F%8APCDN/";
            const title         = "「加密媒体扩展」";
            const excerpt       = `CDN 及 PCDN
CDNCDN(Content Delivery Network 或 Content Ddistribute Network):内容分发网络也称为内容传送网络。是指一种透过互联网互相连接的电脑网络系统，利用最靠近每...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    <a class="tag-none-link" href="/tags/%E6%B5%81%E5%AA%92%E4%BD%93/" rel="tag">流媒体</a>, <a class="tag-none-link" href="/tags/%E7%9B%B4%E6%92%AD/" rel="tag">直播</a>, <a class="tag-none-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" rel="tag">计算机基础</a>
                </div>
                <div class="pull-date">
                <span>最后编辑：2024-01-22</span>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" 音视频同步原理及实现" href="/2024/01/14/音视频同步原理及实现/">&lt; 上一篇</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" 加密媒体扩展" href="/2024/01/21/加密媒体扩展/">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
        <div id="w-comments" class="post-comments"></div>
<script>
    var load_comm = () => {
        const init = () => {
            new Waline(Object.assign({
                el: '#w-comments',
                path: '/2024/01/20/CDN%E5%8F%8APCDN/'
            }, JSON.parse('{"serverURL":"https://myblog-api-hazel.vercel.app","visitor":true}')));
        }
        if (typeof Waline == 'undefined') {
            const src = 'https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js';
            $.getScript(src, init);
        } else {
            init();
        }
    };
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://waline.js.org/">comments powered by Waline.</a></noscript>

    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="https://greenhaha.oss-cn-beijing.aliyuncs.com/frontend/assets/header/header.png" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center">一个从躺平状态站起来并开始折腾自己二次元开发者</p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fa fa-compass"></i>
        文章目录
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#CDN-%E5%8F%8A-PCDN"><span class="toc-text">CDN 及 PCDN</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CDN"><span class="toc-text">CDN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-text">组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-text">功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-text">特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-text">原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E6%8E%A5%E5%85%A5-CDN"><span class="toc-text">网站接入 CDN</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PCDN"><span class="toc-text">PCDN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN-%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">CDN 存在的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PCDN-%E8%8A%82%E7%82%B9%E5%8F%8A%E6%9E%B6%E6%9E%84"><span class="toc-text">PCDN 节点及架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#P2P-%E7%AE%80%E4%BB%8B"><span class="toc-text">P2P 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#P2P-%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8F%91%E5%B1%95%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B"><span class="toc-text">P2P 技术的发展演变过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PCDN-%E4%BF%9D%E8%AF%81%E9%AB%98%E8%B4%A8%E9%87%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-text">PCDN 保证高质量的基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81PCDN-%E4%BF%9D%E8%AF%81%E4%BD%8E%E4%BB%B7%E6%A0%BC%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-text">四、PCDN 保证低价格的基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN-%E5%92%8C-P2P-%E6%8A%80%E6%9C%AF%E4%BC%98%E5%8A%A3%E5%8A%BF%E5%88%86%E6%9E%90"><span class="toc-text">CDN 和 P2P 技术优劣势分析</span></a></li></ol></li></ol></li></ol>
    </div>
</aside>
                
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%A8%E6%96%B0%E4%BD%93%E9%AA%8C/">全新体验</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7%E5%A4%A7%E5%85%A8/">工具大全</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E6%A1%A3%E6%95%99%E7%A8%8B/">文档教程</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9F%A5%E8%AF%86%E5%89%96%E6%9E%90/">知识剖析</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%A7%84%E8%8C%83%E6%80%BB%E7%BB%93/">规范总结</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E5%88%92%E6%80%BB%E7%BB%93/">计划总结</a><span class="category-list-count">2</span></li></ul>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/2023/" style="font-size: 0.6em;">2023</a> <a href="/tags/API/" style="font-size: 0.6em;">API</a> <a href="/tags/CSS/" style="font-size: 0.64em;">CSS</a> <a href="/tags/ELM/" style="font-size: 0.64em;">ELM</a> <a href="/tags/EME/" style="font-size: 0.6em;">EME</a> <a href="/tags/HTML/" style="font-size: 0.68em;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 0.8em;">JavaScript</a> <a href="/tags/JavaScript%E6%8A%80%E6%9C%AF/" style="font-size: 0.6em;">JavaScript技术</a> <a href="/tags/Node/" style="font-size: 0.76em;">Node</a> <a href="/tags/React/" style="font-size: 0.68em;">React</a> <a href="/tags/ReactNative/" style="font-size: 0.72em;">ReactNative</a> <a href="/tags/TypeScript/" style="font-size: 0.6em;">TypeScript</a> <a href="/tags/Vue/" style="font-size: 0.6em;">Vue</a> <a href="/tags/chromeAPI/" style="font-size: 0.6em;">chromeAPI</a> <a href="/tags/express/" style="font-size: 0.64em;">express</a> <a href="/tags/express-session/" style="font-size: 0.6em;">express-session</a> <a href="/tags/git/" style="font-size: 0.6em;">git</a> <a href="/tags/google/" style="font-size: 0.6em;">google</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/2024/01/21/%E5%8A%A0%E5%AF%86%E5%AA%92%E4%BD%93%E6%89%A9%E5%B1%95/"><i class="fa  fa-book"></i> 加密媒体扩展</a>
            
          
        
          
          
            <a class="list-group-item" href="/2024/01/20/CDN%E5%8F%8APCDN/"><i class="fa  fa-book"></i> 加密媒体扩展</a>
            
          
        
          
          
            <a class="list-group-item" href="/2024/01/14/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%90%8C%E6%AD%A5%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E7%8E%B0/"><i class="fa  fa-book"></i> 音视频同步原理及实现</a>
            
          
        
          
          
            <a class="list-group-item" href="/2024/01/10/2024%E5%B9%B4%E7%94%9F%E6%97%A5%E6%9C%89%E6%84%9F/"><i class="fa  fa-book"></i> 2024年生日有感</a>
            
          
        
          
          
            <a class="list-group-item" href="/2024/01/05/%E6%B5%81%E5%AA%92%E4%BD%93%E5%8D%8F%E8%AE%AE-DASH/"><i class="fa  fa-book"></i> 流媒体协议-DASH</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        <li><a href="mailto:a15114101085@aliyun.com"><i class="fa fa-envelope"></i></a></li>
                        
                        
                        
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://github.com/greenhaha"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2024 彼方のE栈 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by 境界の彼方.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            <li><a href="https://beian.miit.gov.cn" rel="external nofollow" target="_blank">辽ICP备19004490号-2</a></li>
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
<script>const notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));</script>

<script async src="/js/candy.min.js"></script>

    <script defer src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="3204190542"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>


    <script defer src="/js/kr-dark.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>